<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <!-- <py-env>
        - pandas
    </py-env> -->

  <style>
    .title {
      font-size: 3em;
      color: rgb(8, 123, 8);
      text-align: center; /* Esta línea centrará el título */
    }
    body {
      font-family: Arial, sans-serif; /* Cambia el tipo de letra a Arial */
    }
    form {
      margin: 0 auto; /* Centra el formulario horizontalmente */
      width: 50%; /* Reduce el ancho del formulario al 50% del ancho de la ventana */
      padding: 2em; /* Agrega un espacio alrededor del formulario */
      background-color: #e9e3e3; /* Cambia el color de fondo del formulario a un gris claro */
    }
    label, select {
      display: block; /* Hace que los elementos se muestren en su propia línea */
      margin-bottom: 1em; /* Agrega un espacio debajo de cada elemento */
    }
    select {
      padding: 0.5em; /* Agrega un espacio alrededor del contenido del elemento select */
      font-size: 1.2em; /* Aumenta el tamaño del texto en el elemento select */
       color: rgba(6, 51, 109, 0.622); /* Cambia el color del texto a azul */
    }
  </style>
</head>

<body>
    <h2 class="title">Cuestionario para determinar tu nivel academico</h2>
    
    <form id="my_form">
    <div>
      <label for="municipio">Municipio o Demarcación territorial:</label>
      <select id="municipio" name="municipio">
        <option value="002">Azcapotzalco</option>
        <option value="003">Coyoacán</option>
        <option value="004">Cuajimalpa de Morelos</option>
        <option value="005">Gustavo A. Madero</option>
        <option value="006">Iztacalco</option>
        <option value="007">Iztapalapa</option>
        <option value="008">La Magdalena Contreras</option>
        <option value="009">Milpa Alta</option>
        <option value="010">Álvaro Obregón</option>
        <option value="011">Tláhuac</option>
        <option value="012">Tlalpan</option>
        <option value="013">Xochimilco</option>
        <option value="014">Benito Juárez</option>
        <option value="015">Cuauhtémoc</option>
        <option value="016">Miguel Hidalgo</option>
        <option value="017">Venustiano Carranza</option>
        <option value="999">Demarcación territorial no especificada</option>
      </select>
    </div>
  
    <div>
      <label for="sexo">Sexo:</label>
      <select id="sexo" name="sexo">
        <option value="1">Hombre</option> 
        <option value="3">Mujer</option>
      </select>
    </div>
    
    <div>
     <label for="edad">Edad:</label><br>
     <input type="number" id="edad" name="edad" min="0" max="130"><br>
    </div>

    <div>
        <label for="estadoNacimiento">¿En qué estado de la República Mexicana nació?</label><br>
        <select id="estadoNacimiento" name="estadoNacimiento">
          <option value="01">Aguascalientes</option>
          <option value="02">Baja California</option>
          <option value="03">Baja California Sur</option>
          <option value="04">Campeche</option>
          <option value="05">Coahuila</option>
          <option value="06">Colima</option>
          <option value="07">Chiapas</option>
          <option value="08">Chihuahua</option>
          <option value="09">Ciudad de México</option>
          <option value="10">Durango</option>
          <option value="11">Guanajuato</option>
          <option value="12">Guerrero</option>
          <option value="13">Hidalgo</option>
          <option value="14">Jalisco</option>
          <option value="15">México</option>
          <option value="16">Michoacán</option>
          <option value="17">Morelos</option>
          <option value="18">Nayarit</option>
          <option value="19">Nuevo León</option>
          <option value="20">Oaxaca</option>
          <option value="21">Puebla</option>
          <option value="22">Querétaro</option>
          <option value="23">Quintana Roo</option>
          <option value="24">San Luis Potosí</option>
          <option value="25">Sinaloa</option>
          <option value="26">Sonora</option>
          <option value="27">Tabasco</option>
          <option value="28">Tamaulipas</option>
          <option value="29">Tlaxcala</option>
          <option value="30">Veracruz</option>
          <option value="31">Yucatán</option>
          <option value="32">Zacatecas</option>
        </select><br>
    </div>

    <div>
     <label for="nacionalidadMexicana">¿Tiene nacionalidad mexicana?</label><br>
     <select id="nacionalidadMexicana" name="nacionalidadMexicana">
        <option value="1">Sí</option>
        <option value="3">No</option>
        <option value="9">No especificado</option>
        </select><br>
    </div>

    <div>
        <label for="atencionSalud">Cuando tiene problemas de salud, ¿en dónde se atiende?</label><br>
        <select id="atencionSalud" name="atencionSalud">
          <option value="01">Seguro Social (IMSS)</option>
          <option value="02">ISSSTE</option>
          <option value="03">ISSSTE estatal</option>
          <option value="04">PEMEX, Defensa o Marina</option>
          <option value="05">Centro de Salud u Hospital de la SSA, Seguro Popular o Instituto de Salud para el Bienestar</option>
          <option value="06">IMSS-PROSPERA o IMSS-BIENESTAR</option>
          <option value="07">Consultorio, clínica u hospital privado</option>
          <option value="08">Consultorio de farmacia</option>
          <option value="09">Otro lugar</option>
          <option value="10">No se atiende</option>
          <option value="99">No especificado</option>
        </select><br>
    </div>

    <div>
        <label for="afromexicano">Por sus antepasados y de acuerdo con sus costumbres y tradiciones, ¿se considera afromexicano(a), negro(a) o afrodescendiente?</label><br>
        <select id="afromexicano" name="afromexicano">
      <option value="1">Sí</option>
      <option value="3">No</option>
      <option value="9">No especificado</option>
        </select><br>
    </div>

    <div>
        <label for="actaNacimiento">¿Tiene acta de nacimiento o está inscrita(o) en el registro civil de:</label><br>
        <select id="actaNacimiento" name="actaNacimiento">
          <option value="1">la República Mexicana</option>
          <option value="2">otro país</option>
          <option value="3">Entonces, ¿no tiene registro de nacimiento?</option>
          <option value="9">No especificado</option>
        </select><br>
    </div>

    <div>
        <label for="religion">¿Cuál es la religión que profesa?</label><br>
        <select id="religion" name="religion">
            <option value="1101">Católica</option>
            <option value="1201">Católico ortodoxo</option>
            <option value="1301">Anabautista/Menonita</option>
            <option value="1302">Anglicana/Episcopal</option>
            <option value="1303">Bautista</option>
            <option value="1304">Luterana</option>
            <option value="1305">Metodista</option>
            <option value="1306">Presbiteriana</option>
            <option value="1307">Otras protestantes</option>
            <option value="1311">Amistad Cristiana</option>
            <option value="1312">Asambleas de Dios</option>
            <option value="1313">Iglesia Apostólica de la Fe en Cristo Jesús</option>
            <option value="1314">Iglesia de Dios</option>
            <option value="1315">Iglesia de Dios de la Profecía</option>
            <option value="1316">Iglesia de Dios en México del Evangelio Completo</option>
            <option value="1317">Príncipe de Paz</option>
            <option value="1318">Otras asociaciones pentecostales</option>
            <option value="1321">Iglesia Cristiana Interdenominacional</option>
            <option value="1322">Iglesia del Dios Vivo, Columna y Apoyo de la Verdad, la Luz del Mundo</option>
            <option value="1323">Iglesia de Cristo</option>
            <option value="1324">Iglesia del Nazareno</option>
            <option value="1325">Movimientos Sincréticos Judaicos Neoisraelitas</option>
            <option value="1326">Otras cristianas evangélicas</option>
            <option value="1331">Adventista del Séptimo Día</option>
            <option value="1332">Iglesia de Jesucristo de los Santos de los Últimos Días (Mormón)</option>
            <option value="1333">Testigo de Jehová</option>
            <option value="1341">Cristiana</option>
            <option value="1342">Evangélica</option>
            <option value="1343">Pentecostal</option>
            <option value="1344">Protestante</option>
            <option value="2101">Judía</option>
            <option value="2201">Islámica</option>
            <option value="2301">Budista</option>
            <option value="2302">Hinduista</option>
            <option value="2303">Otras de origen oriental</option>
            <option value="2401">New Age y Escuelas esotéricas</option>
            <option value="2501">Raíces étnicas</option>
            <option value="2601">Raíces afro</option>
            <option value="2701">Espiritualista</option>
            <option value="2801">Cultos populares</option>
            <option value="2901">Otros movimientos religiosos</option>
            <option value="3101">Ninguna religión</option>
            <option value="3102">Ateos</option>
            <option value="3103">Agnósticos</option>
            <option value="3104">Sin adscripción religiosa (creyente)</option>
            <option value="9999">Religión no especificada</option>            
        </select><br>
    </div>

    <div>
    <script>
    function checkDisability() {
      let select = js.document.getElementById("disability");
      let value = select.options[select.selectedIndex].value;
      
      // Get all disability divs
      let divs = js.document.getElementsByClassName("disability-type");
      
      // If disability is "No", hide all disability divs
      if (value === "No") {
        for (let i = 0; i < divs.length; i++) {
          divs[i].style.display = "none";
        }
      }
      // If disability is "Yes", show all disability divs
      else if (value === "Si") {
        for (let i = 0; i < divs.length; i++) {
          divs[i].style.display = "block";
        }
      }
    }
    </script>
    
    <p>¿En su vida diaria tiene alguna discapacidad?</p>
    <select id="disability" onchange="checkDisability()">
      <option value="">Por favor seleccione</option>
      <option value="Si">Si</option>
      <option value="No">No</option>
    </select>
    
    <div class="disability-type" style="display:none;">
      <p>¿Tiene dificultad para ver, aun usando lentes?</p>
      <select id="DIS_VER">
        <option value="1">No tiene dificultad</option>
        <option value="2">Lo hace con poca dificultad</option>
        <option value="3">Lo hace con mucha dificultad</option>
        <option value="4">No puede hacerlo</option>
        <option value="8">Se desconoce el grado de la discapacidad</option>
        <option value="9">No especificado</option>
      </select>
    </div>
    <div class="disability-type" style="display:none;">
        <p>¿Tiene dificultad para oír, aun usando aparato auditivo?</p>
        <select id="DIS_OIR">
          <option value="1">No tiene dificultad</option>
          <option value="2">Lo hace con poca dificultad</option>
          <option value="3">Lo hace con mucha dificultad</option>
          <option value="4">No puede hacerlo</option>
          <option value="8">Se desconoce el grado de la discapacidad</option>
          <option value="9">No especificado</option>
        </select>
    </div>
      
    <div class="disability-type" style="display:none;">
    <p>¿Tiene dificultad para caminar, subir o bajar?</p>
    <select id="DIS_CAMINAR">
        <option value="1">No tiene dificultad</option>
        <option value="2">Lo hace con poca dificultad</option>
        <option value="3">Lo hace con mucha dificultad</option>
        <option value="4">No puede hacerlo</option>
        <option value="8">Se desconoce el grado de la discapacidad</option>
        <option value="9">No especificado</option>
    </select>
    </div>
      
    <div class="disability-type" style="display:none;">
    <p>¿Tiene dificultad para recordar o concentrarse?</p>
    <select id="DIS_RECORDAR">
        <option value="1">No tiene dificultad</option>
        <option value="2">Lo hace con poca dificultad</option>
        <option value="3">Lo hace con mucha dificultad</option>
        <option value="4">No puede hacerlo</option>
        <option value="8">Se desconoce el grado de la discapacidad</option>
        <option value="9">No especificado</option>
    </select>
    </div>
      
    <div class="disability-type" style="display:none;">
    <p>¿Tiene dificultad para bañarse, vestirse o comer?</p>
    <select id="DIS_BANARSE">
        <option value="1">No tiene dificultad</option>
        <option value="2">Lo hace con poca dificultad</option>
        <option value="3">Lo hace con mucha dificultad</option>
        <option value="4">No puede hacerlo</option>
        <option value="8">Se desconoce el grado de la discapacidad</option>
        <option value="9">No especificado</option>
    </select>
    </div>
      
    <div class="disability-type" style="display:none;">
        <p>¿Tiene dificultad para hablar o comunicarse (por ejemplo: entender o ser entendido por otros)?</p>
        <select id="DIS_HABLAR">
        <option value="1">No tiene dificultad</option>
        <option value="2">Lo hace con poca dificultad</option>
        <option value="3">Lo hace con mucha dificultad</option>
        <option value="4">No puede hacerlo</option>
        <option value="8">Se desconoce el grado de la discapacidad</option>
        <option value="9">No especificado</option>
        </select>
    </div>

    <div class="disability-type" style="display:none;">
        <p>¿Tiene algún problema o condición mental (Autismo, síndrome de Down, esquizofrenia, etcétera)?</p>
        <select id="DIS_MENTAL">
        <option value="6">No</option>
        <option value="5">Sí</option>
        <option value="9">No especificado</option>
        </select>
    </div>
    </div>

    <div>
        <div>
            <p>¿Habla algún dialecto o lengua indígena?</p>
            <select id="INDIGENA_HABLAR" onchange="checkLengua()">
              <option value="3">No</option>
              <option value="1">Sí</option>
              <option value="9">No especificado</option>
            </select>
        </div>
          
        <div id="dialecto" style="display:none;">
            <p>¿Qué dialecto o lengua indígena habla?</p>
            <!-- Aquí deberías tener una lista completa de las opciones disponibles para las lenguas indígenas. -->
            <select id="INDIGENA_DIALECTO">
                <option value="0101">Kickapoo</option>
                <option value="0201">Pápago</option>
                <option value="0202">Pima</option>
                <option value="0203">Tepehuano del norte</option>
                <option value="0204">Tepehuano del sur</option>
                <option value="0205">Tarahumara</option>
                <option value="0206">Guarijío</option>
                <option value="0207">Yaqui</option>
                <option value="0208">Mayo</option>
                <option value="0209">Cora</option>
                <option value="0210">Huichol</option>
                <option value="0211">Náhuatl</option>
                <option value="0301">Paipai</option>
                <option value="0303">Cucapá</option>
                <option value="0304">Kumiai</option>
                <option value="0305">Kiliwa</option>
                <option value="0401">Seri</option>
                <option value="0501">Otomí</option>
                <option value="0502">Mazahua</option>
                <option value="0503">Matlatzinca</option>
                <option value="0504">Tlahuica</option>
                <option value="0505">Pame</option>
                <option value="0506">Chichimeco Jonaz</option>
                <option value="0507">Chinanteco</option>
                <option value="0508">Tlapaneco</option>
                <option value="0509">Mazateco</option>
                <option value="0510">Ixcateco</option>
                <option value="0511">Chocholteco</option>
                <option value="0512">Popoluca</option>
                <option value="0513">Zapoteco</option>
                <option value="0514">Chatino</option>
                <option value="0515">Amuzgo</option>
                <option value="0516">Mixteco</option>
                <option value="0517">Cuicateco</option>
                <option value="0518">Triqui</option>
                <option value="0601">Huasteco</option>
                <option value="0602">Maya</option>
                <option value="0603">Lacandón</option>
                <option value="0604">Ch'ol</option>
                <option value="0605">Chontal de Tabasco</option>
                <option value="0606">Tseltal</option>
                <option value="0607">Tsotsil</option>
                <option value="0608">Q’anjob’al</option>
                <option value="0609">Akateko</option>
                <option value="0610">Jakalteko</option>
                <option value="0611">Qato'k</option>
                <option value="0612">Chuj</option>
                <option value="0613">Tojolabal</option>
                <option value="0614">Q’eqchi’</option>
                <option value="0615">K’iche’</option>
                <option value="0616">Kaqchikel</option>
                <option value="0617">Teko</option>
                <option value="0618">Mam</option>
                <option value="0619">Awakateko</option>
                <option value="0620">Ixil</option>
                <option value="0701">Totonaco</option>
                <option value="0702">Tepehua</option>
                <option value="0801">Tarasco</option>
                <option value="0901">Mixe</option>
                <option value="0902">Sayulteco</option>
                <option value="0903">Oluteco</option>
                <option value="0904">Texistepequeño</option>
                <option value="0905">Ayapaneco</option>
                <option value="0906">Popoluca de la Sierra</option>
                <option value="0907">Zoque</option>
                <option value="1001">Chontal de Oaxaca</option>
                <option value="1101">Huave</option>
                <option value="8000">Otras lenguas indígenas de América</option>
                <option value="9000">No especificado</option>
                <option value="9010">Chontal insuficientemente especificado</option>
                <option value="9020">Tepehuano insuficientemente especificado</option>
                <option value="9030">Popoluca insuficientemente especificado</option>
            </select>
            
            <p>¿Habla también español?</p>
            <select id="INDIGENA_ESPANOL">
                <option value="1">Sí</option>
                <option value="3">No</option>
                <option value="9">No especificado</option>
            </select>
            
            <p>¿Entiende algún dialecto o lengua indígena?</p>
            <select id="INDIGENA_ENTIENDE">
                <option value="5">Sí</option>
                <option value="7">No</option>
                <option value="9">No especificado</option>
            </select>
        </div>
          
        <script>
            function checkLengua() {
            var selectBox = js.document.getElementById("INDIGENA_HABLAR");
            var dialectoDiv = js.document.getElementById("dialecto");
            if (selectBox.value == "1") {
                dialectoDiv.style.display = "";
            } else {
                dialectoDiv.style.display = "none";
            }
            }
        </script>

    </div>

    <div>
        <p>De acuerdo con su cultura, ¿se considera indígena?</p>
        <select id="CONSIDERA_INDIGENA">
          <option value="1">Sí</option>
          <option value="3">No</option>
          <option value="9">No especificado</option>
        </select>
    </div>

    <div>
        <p>¿sabe leer y escribir un recado?</p>
        <select id="SABE_LEER_ESCRIBIR_RECADO">
          <option value="1">Sí</option>
          <option value="3">No</option>
          <option value="9">No especificado</option>
        </select>
    </div>

    <div>
        <p>¿Hace 5 años residía en el mismo lugar?</p>
        <select id="RESIDENCIA_5_ANIOS" onchange="mostrarMotivoCambioResidencia()">
          <option value="1">Sí</option>
          <option value="3">No</option>
          <option value="999">No especificado</option>
        </select>
        
        <div class="reason-for-moving" style="display:none;">
          <p>¿Por qué dejó de vivir en donde residía antes?</p>
          <select id="MOTIVO_CAMBIO_RESIDENCIA">
            <option value="0101">Buscar trabajo</option>
            <option value="0102">Cambio u oferta de trabajo</option>
            <option value="0103">Despido o conclusión de trabajo</option>
            <option value="0104">Distancia al trabajo</option>
            <option value="0105">Jubilación o pensión</option>
            <option value="0109">Otros motivos laborales</option>
            <option value="0201">Costo de la vivienda (compra o renta)</option>
            <option value="0209">Situación económica</option>
            <option value="0301">Reunirse con la familia</option>
            <option value="0302">Matrimonio o unión de algún familiar</option>
            <option value="0303">Divorcio o separación de algún familiar</option>
            <option value="0304">Falleció o nació algún familiar</option>
            <option value="0305">Cuidar a algún familiar</option>
            <option value="0306">Situación laboral de algún familiar</option>
            <option value="0307">Situación escolar de algún familiar</option>
            <option value="0309">Otros motivos familiares</option>
            <option value="0401">Se casó o unió</option>
            <option value="0402">Divorcio o separación</option>
            <option value="0403">Cuidados de salud</option>
            <option value="0404">Motivos de edad</option>
            <option value="0405">Mejorar calidad de vida</option>
            <option value="0406">Independizarse</option>
            <option value="0409">Otros motivos personales</option>
            <option value="0501">Estudiar</option>
            <option value="0502">Término de estudios</option>
            <option value="0503">Distancia a la escuela</option>
            <option value="0509">Otros motivos educativos</option>
            <option value="0601">Inseguridad delictiva o violencia</option>
            <option value="0602">Violencia intrafamiliar</option>
            <option value="0603">Motivos políticos y de gobierno</option>
            <option value="0604">Motivos de servicios asistenciales</option>
            <option value="0609">Otros motivos sociales, ambientales o de servicios</option>
            <option value="0701">Desastres naturales</option>
            <option value="0709">Otros desastres</option>
            <option value="0801">Lo deportaron (regresaron)</option>
            <option value="0809">Motivos legales y administrativos</option>
            <option value="0901">Adquisición, venta o construcción de vivienda</option>
            <option value="0902">Mejorar condiciones de vivienda (no económica)</option>
            <option value="0903">Término de contrato y otros motivos de renta</option>
            <option value="0905">Ubicación de la vivienda</option>
            <option value="0906">Cambio de domicilio sin causa específica</option>
            <option value="0909">Otras situaciones de la vivienda</option>
            <option value="1001">Evangelizar y motivos misioneros</option>
            <option value="1002">Persecución religiosa</option>
            <option value="1009">Otros motivos religiosos</option>
            <option value="9999">Causa de migración no especificada</option>
          </select>
        </div>
        
        <script>
        function mostrarMotivoCambioResidencia() {
          var seleccion = js.document.getElementById("RESIDENCIA_5_ANIOS").value;
          var motivoCambioResidenciaDiv = js.document.querySelector(".reason-for-moving");
        
          if (seleccion === "3") {
            motivoCambioResidenciaDiv.style.display = "block";
          } else {
            motivoCambioResidenciaDiv.style.display = "none";
          }
        }
        </script>
        
    </div>

    <div>
        <p>Actualmente:</p>
        <select id="ESTADO_CIVIL">
          <option value="1">Vive con su pareja en unión libre</option>
          <option value="2">Está separada(o)</option>
          <option value="3">Está divorciada(o)</option>
          <option value="4">Es viuda(o)</option>
          <option value="5">Está casada(o) sólo por el civil</option>
          <option value="6">Está casada(o) sólo religiosamente</option>
          <option value="7">Está casada(o) civil y religiosamente</option>
          <option value="8">Está soltera(o)</option>
          <option value="9">No especificado</option>
        </select>
    </div>

    <div>
        <p>La semana pasada usted:</p> 
        <select id="ACTIVIDAD_SEMANA_PASADA" onchange="MostrarPrestaciones()">
          <option value="13">Se declara que busca trabajo y en la verificación se rescata que trabaja</option>
          <option value="10">Trabajó</option>
          <option value="14">Se declara que es jubilado o pensionado y en la verificación se rescata que trabaja</option>
          <option value="15">Se declara que es estudiante y en la verificación se rescata que trabaja</option>
          <option value="16">Se dedica a los quehaceres del hogar y en la verificación se rescata que trabaja</option>
          <option value="17">Se declara que tiene alguna limitación física o mental permanente que le impide trabajar y en la verificación se rescata que trabaja</option>
          <option value="18">Se declara en otra situación de actividad y en la verificación se rescata que trabaja</option>
          <option value="19">No se tiene información en condición de actividad y en la verificación se rescata que trabaja</option>
          <option value="20">Tenía trabajo pero no trabajó</option>
          <option value="30">Buscó trabajo</option>
          <option value="40">Es pensionada(o) o jubilada(o)</option>
          <option value="50">Es estudiante</option>
          <option value="60">Se dedica a los quehaceres del hogar</option>
          <option value="70">Está incapacitado permanentemente para trabajar</option>
          <option value="80">No trabaja</option>
          <option value="99">No especificado</option>
        </select>

        
        <div class="prestaciones" style="display:none;">
                <p>¿Cuál fue su ocupación la semana pasada? Por ejemplo: técnico electricista, maestra de primaria, vendedora de frutas, albañil, mecánico de autos (Según Clasificador de Ocupaciones)</p>
                <select id="ocupacion">
                  <option value="1">Funcionarios, directores y jefes</option>
                  <option value="2">Profesionistas y técnicos</option>
                  <option value="3">Trabajadores auxiliares en actividades administrativas</option>
                  <option value="4">Comerciantes, empleados en ventas y agentes de ventas</option>
                  <option value="5">Trabajadores en servicios personales y de vigilancia</option>
                  <option value="6">Trabajadores en actividades agrícolas, ganaderas, forestales, caza y pesca</option>
                  <option value="7">Trabajadores artesanales, en la construcción y otros oficios</option>
                  <option value="8">Operadores de maquinaria industrial, ensambladores, choferes y conductores de transporte</option>
                  <option value="9">Trabajadores en actividades elementales y de apoyo</option>
                  <option value="999">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                    
                <p>¿En ese trabajo fue?</p>
                <select id="enEseTrabajo" name="enEseTrabajo">
                  <option value="1">empleada(o) u obrera(o)?</option>
                  <option value="2">jornalera(o) o peón(a)?</option>
                  <option value="3">ayudante con pago?</option>
                  <option value="4">patrón(a) o empleador(a)? (Tiene trabajadores por un sueldo)</option>
                  <option value="5">trabajador(a) por cuenta propia? (No tiene trabajadores por un sueldo)</option>
                  <option value="6">trabajador(a) sin pago?</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>¿Tiene por su trabajo aguinaldo?</p>
                <select id="tieneAguinaldo" name="tieneAguinaldo">
                  <option value="1">Sí</option>
                  <option value="2">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>Vacaciones con goce de sueldo?</p>
                <select id="vacaciones" name="vacaciones">
                  <option value="3">Sí</option>
                  <option value="4">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>
                    
                <p>Servicio médico (IMSS, ISSSTE u otro)?</p>
                <select id="servicioMedico" name="servicioMedico">
                  <option value="5">Sí</option>
                  <option value="6">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>Reparto de utilidades?</p>
                <select id="repartoUtilidades" name="repartoUtilidades">
                  <option value="7">Sí</option>
                  <option value="8">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>Licencia o incapacidad con goce de sueldo?</p>
                <select id="licenciaIncapacidad" name="licenciaIncapacidad">
                  <option value="1">Sí</option>
                  <option value="2">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>AFORE o SAR (ahorro para el retiro)?</p>
                <select id="aforeSAR" name="aforeSAR">
                  <option value="3">Sí</option>
                  <option value="4">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>Crédito para la vivienda?</p>
                <select id="creditoVivienda" name="creditoVivienda">
                  <option value="5">Sí</option>
                  <option value="6">No</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>

                <p>¿Cuánto gana por ese trabajo?</p>
                <input type="number" id="ganancias" name="ganancias" min="0" max="999998">
                
                <p>¿Cuántas horas trabajó la semana pasada?</p>
                <input type="number" id="horasTrabajadas" name="horasTrabajadas" min="0" max="140">
                
                <p>¿A qué se dedica el negocio, empresa o lugar donde trabajó Por ejemplo: hacer muebles de madera, hacer escobas, reparar autos, vender ropa usada, armar televisores (Según Clasificador de Actividades económicas)</p>
                <select id="actividadEconomica" name="actividadEconomica">
                  <option value="1110">Agricultura, cría y explotación de animales, aprovechamiento forestal, pesca y caza</option>
                  <option value="21">Minería</option>
                  <option value="22">Generación, transmisión, distribución y comercialización de energía eléctrica, suministro de agua y de gas natural por ductos al consumidor final</option>
                  <option value="23">Construcción</option>
                  <option value="31">Industrias manufactureras</option>
                  <option value="43">Comercio al por mayor</option>
                  <option value="46">Comercio al por menor</option>
                  <option value="48">Transportes, correos y almacenamiento</option>
                  <option value="51">Información en medios masivos</option>
                  <option value="52">Servicios financieros y de seguros</option>
                  <option value="53">Servicios inmobiliarios y de alquiler de bienes muebles e intangibles</option>
                  <option value="54">Servicios profesionales, científicos y técnicos</option>
                  <option value="55">Corporativos</option>
                  <option value="56">Servicios de apoyo a los negocios y manejo de residuos, y servicios de remediación</option>
                  <option value="61">Servicios educativos</option>
                  <option value="62">Servicios de salud y de asistencia social</option>
                  <option value="71">Servicios de esparcimiento, culturales y deportivos, y otros servicios recreativos</option>
                  <option value="72">Servicios de alojamiento temporal y de preparación de alimentos y bebidas</option>
                  <option value="81">Otros servicios excepto actividades gubernamentales</option>
                  <option value="93">Actividades legislativas, gubernamentales, de impartición de justicia y de organismos internacionales y extraterritoriales</option>
                  <option value="99">Descripciones insuficientemente especificadas general de sector de actividad</option>
                  <option value="9999">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>
                
                <p>¿Cuánto tiempo hace de aquí a su trabajo?</p>
                <select id="tiempoTraslado" name="tiempoTraslado">
                  <option value="1">Hasta 15 minutos</option>
                  <option value="2">16 a 30 minutos</option>
                  <option value="3">31 minutos a 1 hora</option>
                  <option value="4">Más de 1 hora y hasta 2 horas</option>
                  <option value="5">Más de 2 horas</option>
                  <option value="6">No es posible determinarlo</option>
                  <option value="7">No se traslada</option>
                  <option value="9">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>
                
                <p>¿Cómo acostumbra ir de aquí a su trabajo?</p>
                <select id="medioTransporte" name="medioTransporte">
                  <option value="01">Caminando</option>
                  <option value="02">Bicicleta</option>
                  <option value="03">Metro, tren ligero, tren suburbano</option>
                  <option value="04">Trolebús</option>
                  <option value="05">Metrobús (autobús en carril confinado)</option>
                  <option value="06">Camión, autobús, combi, colectivo</option>
                  <option value="07">Transporte de personal</option>
                  <option value="08">Taxi (sitio, calle, otro)</option>
                  <option value="09">Taxi (App Internet)</option>
                  <option value="10">Motocicleta o motoneta</option>
                  <option value="11">Automóvil o camioneta</option>
                  <option value="12">Otro</option>
                  <option value="99">No especificado</option>
                  <option value="Nulo">Blanco por pase</option>
                </select>
                
        </div>

        <script>
            function MostrarPrestaciones() {
              var seleccion = js.document.getElementById("ACTIVIDAD_SEMANA_PASADA").value;
              var motivoCambioResidenciaDiv = js.document.querySelector(".prestaciones");
            
              if (seleccion === "10") {
                motivoCambioResidenciaDiv.style.display = "block";
              } else {
                motivoCambioResidenciaDiv.style.display = "none";
              }
            }
        </script>

    </div>

    <div>
        <p>En total, ¿cuántas hijas e hijos que nacieron vivos ha tenido?</p>
        <input type="number" id="hijosVivos" name="hijosVivos" min="0" max="25">
    </div>
                
    <div>
        <p>De las hijas e hijos que nacieron vivos, ¿cuántos han muerto?</p>
        <input type="number" id="hijosMuertos" name="hijosMuertos" min="0" max="25">
    </div>

    <div>
        <p>¿Cuántas de las hijas e hijos viven actualmente?</p>
        <input type="number" id="hijosViven" name="hijosViven" min="0" max="25"> 
    </div>

    <div>
        <p>Esta última hija o hijo de , ¿vive actualmente?</p>
        <select id="ultimoHijoVive" name="ultimoHijoVive">
          <option value="1">Sí</option>
          <option value="3">No</option>
          <option value="9">No especificado</option>
          <option value="Nulo">Blanco por pase</option>
        </select>
    </div>

    <div>
        <p>¿Dónde vive esta última hija o hijo de (NOMBRE)?</p>
        <select id="ultimoHijoLugar" name="ultimoHijoLugar">
          <option value="01">En esta vivienda </option>
          <option value="96">En otra vivienda</option>
          <option value="99">No especificado</option>
          <option value="Nulo">Blanco por pase</option>
        </select>
    </div>

    <div>
        <p>Tamaño de localidad:</p>
        <select id="tamanioLocalidad" name="tamanioLocalidad">
          <option value="1">Menos de 2,500 habitantes</option>
          <option value="2">De 2,500 a 14,999 habitantes</option>
          <option value="3">De 15,000 a 49,999 habitantes</option>
          <option value="4">De 50,000 a 99,999 habitantes</option>
          <option value="5">100,000 y más habitantes</option>
        </select>
    </div>
  
    <!-- <div>
      <input type="submit" value="Enviar">
    </div> -->
   </form>

   <button id="submitButton" type="button">Enviar</button>

  <py-config>
    packages = ["pandas"]
  </py-config>

  <py-script>
    import pickle 
    import pandas as pd
    from js import XMLHttpRequest
    from io import StringIO

    def my_open_url(url: str) -> StringIO:
      req = XMLHttpRequest.new()
      req.open("GET", url, False)  # means async=False
      req.setRequestHeader("Origin", "*")
      req.send(None)
      return StringIO(req.response)
    
    def evaluate_form(e=None):
      pyscript.write("resultado", "PROCESANDO")
      df=pd.DataFrame()
      df['MUN']= js.document.getElementById('municipio').value
      df['NUMPER']= 1
      df['SEXO'] = js.document.getElementById('sexo').value
      df['EDAD'] = js.document.getElementById('edad').value
      df['ENT_PAIS_NAC'] = js.document.getElementById('estadoNacimiento').value
      df['NACIONALIDAD'] =  js.document.getElementById('nacionalidadMexicana').value
      df['SERSALUD'] =  js.document.getElementById('atencionSalud').value
      df['AFRODES'] =  js.document.getElementById('afromexicano').value
      df['REGIS_NAC'] =  js.document.getElementById('actaNacimiento').value
      df['RELIGION'] =  js.document.getElementById('religion').value
      df['DIS_VER'] =  js.document.getElementById('DIS_VER').value
      df['DIS_OIR'] =  js.document.getElementById('DIS_OIR').value
      df['DIS_CAMINAR'] =  js.document.getElementById('DIS_CAMINAR').value
      df['DIS_RECORDAR'] =  js.document.getElementById('DIS_RECORDAR').value
      df['DIS_BANARSE'] =  js.document.getElementById('DIS_BANARSE').value
      df['DIS_HABLAR'] =  js.document.getElementById('DIS_HABLAR').value
      df['DIS_MENTAL'] =  js.document.getElementById('DIS_MENTAL').value
      df['HLENGUA'] =  js.document.getElementById('INDIGENA_HABLAR').value
      df['QDIALECT_INALI'] =  js.document.getElementById('INDIGENA_DIALECTO').value
  
      df['HESPANOL'] =  js.document.getElementById('INDIGENA_ESPANOL').value
      df['ELENGUA'] =  js.document.getElementById('INDIGENA_ENTIENDE').value
      df['PERTE_INDIGENA'] =  js.document.getElementById('CONSIDERA_INDIGENA').value
  
      df['ALFABET'] =  js.document.getElementById('SABE_LEER_ESCRIBIR_RECADO').value
      df['MIGRANTE'] =  js.document.getElementById('RESIDENCIA_5_ANIOS').value
      df['CAUSA_MIG_V'] =  js.document.getElementById('MOTIVO_CAMBIO_RESIDENCIA').value
  
      df['SITUA_CONYUGAL'] =  js.document.getElementById('ESTADO_CIVIL').value
      df['CONACT'] =  js.document.getElementById('ACTIVIDAD_SEMANA_PASADA').value
      df['OCUPACION'] =  js.document.getElementById('ocupacion').value
  
      df['SITTRA'] =  js.document.getElementById('enEseTrabajo').value
      df['AGUINALDO'] =  js.document.getElementById('tieneAguinaldo').value
      df['VACACIONES'] =  js.document.getElementById('vacaciones').value
      df['SERVICIO_MEDICO'] =  js.document.getElementById('servicioMedico').value
  
      df['UTILIDADES'] =  js.document.getElementById('repartoUtilidades').value
      df['INCAP_SUELDO'] =  js.document.getElementById('licenciaIncapacidad').value
      df['SAR_AFORE'] =  js.document.getElementById('aforeSAR').value
      df['CREDITO_VIVIENDA'] =  js.document.getElementById('creditoVivienda').value
  
      df['INGTRMEN'] =  js.document.getElementById('ganancias').value
      df['HORTRA'] =  js.document.getElementById('horasTrabajadas').value
      df['ACTIVIDADES_C'] =  js.document.getElementById('actividadEconomica').value
  
      df['TIE_TRASLADO_TRAB'] =  js.document.getElementById('tiempoTraslado').value
      df['MED_TRASLADO_TRAB1'] =  js.document.getElementById('medioTransporte').value
  
      df['HIJOS_NAC_VIVOS'] =  js.document.getElementById('hijosVivos').value
      df['HIJOS_FALLECIDOS'] =  js.document.getElementById('hijosMuertos').value
      df['HIJOS_SOBREVIV'] = js.document.getElementById('hijosViven').value
      df['SOBREVIVENCIA'] = js.document.getElementById('ultimoHijoVive').value
      df['IDENT_HIJO'] =  js.document.getElementById('ultimoHijoLugar').value
      df['TAMLOC'] =  js.document.getElementById('tamanioLocalidad').value

      if df.empty == False:
        console.log('Todos los campos del formulario deben ser completados.')
        pyscript.write("model_result", "Todos los campos del formulario deben ser completados.")
        if e:
            e.preventDefault()
        return False
      # Load the model
      url_model = "https://raw.githubusercontent.com/emiliosng/education_level_mx/dev/modelo_6v.pkl"
      # Open the URL and load the model
      model_file = my_open_url(url_model)
      model = pickle.load(model_file)
      #model = await load_model(url_model)
      result = model.predict(df)
      if result[0] == 0:
          condition = "NADA"
      elif result[0] == 1:
          condition = "PRIMARIA"
      elif result[0] == 2:
          condition = "SECUNDARIA"
      elif result[0] == 3:
          condition = "PREPARATORIA"
      elif result[0] == 4:
          condition = "UNIVERSIDAD"
      else:
          condition = "POSGRADO"
      pyscript.write("model_result", f"Resultado predicho: {condition}")
      if e:
          e.preventDefault()
      return False

    # Esto vincula la función evaluate_form al evento de envío de tu formulario.
    # Asegúrate de cambiar 'my_form' al id de tu formulario.
    js.document.getElementById('submitButton').onclick = evaluate_form
    # Schedule the main function to run
    # future = asyncio.ensure_future(main())
  </py-script>

<div id="resultado"></div>
<div id="model_result"></div>

</body>
</html>